# URL과 리소스
### 2-1. 인터넷의 리소스 탐색하기
URL: 리소스의 위치
URI: URL과 URN으로 구성된 종합적인 개념

#### 2-1-1. URL이 있기 전 암흑의 시대
URL: 애플리케이션이 리소스에 접근할 수 있는 방법을 제공.

### 2-2. URL 문법
대부분의 스킴은 URL의 일반적인 문법을 따른다.

> <스킴>://<사용자이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<질의>#<프래그먼트>

이 모든 컴포넌트 가지는 URL은 거의 없다.

가장 중요한 세 가지 컴포넌트
- 스킴
- 호스트
- 경로

#### 2-2-1. 스킴: 사용할 프로토콜
- 알파벳으로 시작해야 한다.
- 나머지 부분들과 콜론으로 구분한다.
- 대소문자를 가리지 않는다.

#### 2-2-2. 호스트와 포트
리소스를 호스팅하고 있는 장비와 그 장비 내에서 리소스에 접근할 수 있는 서버가 어디있는지 알아야 한다.
- 호스트 컴포넌트는 접근하려고 하는 리소스를 가지고 있는 인터넷상의 호스트 장비를 가리킨다.
- 포트 컴포넌트는 서버가 열어놓은 네트워크 포트를 가리킨다. 내부적으로 TCP 프로토콜을 사용하는 HTTP는 기본 포트로 80을 사용.

#### 2-2-3. 사용자 이름과 비밀번호
ftp url에 접근하면, 기본 사용자 이름 값으로 'anonymous'가, 비밀번호는 브라우저마다 가지고있는 기본 값 사용.
익플: IEUser
크롬: chrome@example.com

#### 2-2-4. 경로
- 서버가 리소스의 위치를 찾는데 사용하는 정보
- 경로조각마다 자체만의 파라미터 컴포넌트를 가질 수 있다.

#### 2-2-5. 파라미터
애플리케이션이 서버에 정확한 요청을 하기 위해 필요한 입력 파라미터를 받는데 사용한다.
=> 쿼리파라미터와 유사하게 생겼으나, 경로조각마다 사용이 가능하다.
=> 어떤 경우에 어떤 방식으로 사용되며, 동작하는 원리가 어떻게 되는지 파악이 어려움.

http:// ...../hammers;sale=false/index.html;graphics=true

> 잘 사용되는 방식은 아니므로 이런것이 있다고만 알고 있어도 괜찮아 보인다.

#### 2-2-6. 질의 문자열
- 리소스의 형식의 범위를 좁히기 위해 사용
- 사용하면 안되는 특정 문자들을 제외하고는 질의 컴포넌트 포맷에 제약사항은 없음.
- 물음표 우측으로 키-값 쌍 형식의 질의 문자열 사용.
- 

#### 2-2-7. 프래그먼트
html 내의 특정 이미지 혹은 컨텐츠를 가리킬 수 있다.

### 2-3. 단축 URL

#### 2-3-1. 상대 URL
- 상대 URL과 절대 URL
- 브라우저같은 애플리케이션은 상대 URL과 절대 URL 간에 상호 변환을 할 수 있어야 한다.

변환 과정의 첫 단계 기저 URL을 찾는 것
기저 URL은 상대 URL의 기준이 된다.

> 기저 URL이 없는 경우? 절대URL만으로 이루어져있다는 뜻. 하지만 불완전하거나 깨진 URL일수도 있음.

#### 2-3-2. URL 확장
브라우저들은 자동으로 URL을 확장해준다.
- 호스트 명 확장
- 히스토리 확장

### 2-4. 안전하지 않은 문자
안전한 전송: 정보가 유실될 위험 없이 URL을 전송할 수 있다는 것을 의미한다.

#### 2-4-1. URL 문자 집합
US-ASCII 문자집합 사용
이스케이프 문자열은 US-ASCII에서 사용이 금지된 문자들로 특정 문자나 데이터를 인코딩 할 수 있게 함으로써 이동성과 완성도를 높힘

#### 2-4-2. 인코딩 체계
안전하지 않은 문자를 퍼센티지 기호로 시작해, ASCII 코드로 표현되는 두 개의 16진수 숫자로 이루어진 '이스케이프' 문자로 바꾼다.

#### 2-4-3. 문자 제한
몇몇 문자는 특별한 의미로 예약되어있음.
본래의 예약된 의미의 목적이 아닌 다른 용도로 사용하려면 그 전에 반드시 인코딩해야 하는 문자들이 있음.
(자세한 내용 표2-3)

#### 2-4-4. 좀 더 알아보기
안전하지 않은 문자를 인코딩 하지 않은 것은 실수다.
정해진 방식대로 구현해야 한다.
어떤 URL을 보내든지 그 전에 클라이언트 애플리케이션에서 안전하지 않거나 제한된 문자를 변환하는 것이 좋다.
입력받은 URL에서 어떤 문자를 인코딩해야 하는지 결정하는 데는 브라우저와 같이 사용자로부터 최초로 URL을 입력받은 애플리케이션에서 하는 것이 가장 적절하다.

### 2-5. 스킴의 바다
http 기본 포트 80
https 기본 포트 443
mailto: 이메일 주소를 가리킴. 다른 스킴과 다르게 동작

### 2-6. 미래
URL은 주소이지 실제 이름이 아니다.
리소스가 옮겨지면 URL을 더는 사용할 수 없다. 그 시점부터 기존에 가리키고 있던 객체를 찾을 방법이 없어진다.

*이상적인 방법*은 객체의 위치와 상관 없이 그 객체를 가리키는 실제 객체의 이름을 사용하는 것.
새로운 표준  작업 착수, `URN` 

PURL(지속통합자원지시자: Persistent uniform resource locators)를 사용하면 URL로 URN의 기능을 제공할 수 있다.


#### 2-6-1. 지금 아니면, 언제?
표준을 정의한다는 것은 매우 중요, 신중한 작업. 
URL의 한계가 긴급하게 여겨질 정도는 아니기에 대체 작명 스킴이 나오기 전까지는 계속 사용될 것.

### 2-7. 추가 정보